---
title: Słownik danych (MVP)
sidebar_position: 70
---

Ten dokument definiuje minimalne pola dla encji MVP oraz ich źródła (np. Pakiet A).

## Przesyłka wpływająca (incoming shipment)

Źródło: Pakiet A.

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `senderId` lub `senderDisplayName` | string | tak* | jeśli nadawca anonimowy, przechowujemy displayName/minimum |
| `senderAnonymous` | boolean | nie | domyślnie false |
| `receivedAt` | date | tak | data wpływu |
| `deliveryMethod` | enum | tak | `in_person` / `epuap` / `edoręczenia` (robocze) |
| `postedAt` | date | nie | data nadania |
| `senderReference` | string | nie | numer nadawczy |
| `remarks` | string | nie | uwagi |
| `documentDate` | date | nie | data na piśmie |
| `noDocumentDate` | boolean | nie | gdy brak daty |
| `documentSign` | string | nie | znak na piśmie |
| `noDocumentSign` | boolean | nie | gdy brak znaku |
| `accessLevel` | enum | tak | publiczny / częściowo / niepubliczny (robocze) |
| `hasChronologicalRegistration` | boolean | nie | oznaczenie |
| `mappingCoverage` | enum | nie | `none` / `partial` / `full` |

`*` Wymagalność nadawcy: doprecyzować regułę (senderId vs senderDisplayName) na podstawie trybu „nadawca anonimowy”.

## Dokument

Dokument jest konceptualnie **załącznikiem z metadanami**. Wykorzystuje moduł `attachments` (core) do zarządzania plikami.

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `title` | string | tak | tytuł dokumentu |
| `kind` | enum | tak | np. `pismo` (robocze) |
| `accessLevel` | enum | tak | publiczny/częściowo/niepubliczny |
| `receivedAt` | date | nie | jeśli dotyczy |
| `documentDate` | date | nie | data na dokumencie |
| `documentSign` | string | nie | znak na dokumencie |
| `incomingShipmentId` | uuid | nie | link do przesyłki |
| `caseId` | uuid | nie | link do sprawy (niezależnie od tego, czy ma przypisany znak sprawy) |
| `attachmentIds` | uuid[] | nie | referencje do załączników (plików) z modułu `attachments` |

Zasady spójności:

- Dokument może być przypięty do sprawy (niezależnie od tego, czy ma przypisany znak sprawy) lub do żadnej.
- `attachmentIds` zawiera referencje do fizycznych plików zarządzanych przez moduł `attachments` (core).
- Główny właściciel załączników jest określany przez kontekst dokumentu:
  - Jeśli `incomingShipmentId` → właściciel: przesyłka
  - Jeśli `caseId` → właściciel: sprawa (niezależnie od tego, czy ma przypisany znak sprawy)
  - Jeśli brak powiązań → właściciel: dokument

## Sprawa

**Uwaga:** Sprawa i Koszulka są tą samą encją. Sprawa = Koszulka z przypisanym znakiem sprawy.

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `title` | string | tak | nazwa sprawy/koszulki |
| `caseRegisterId` | uuid | tak | spis spraw |
| `jrwaClassId` | uuid | tak | JRWA |
| `sign` | string | nie | znak sprawy; gdy pusty, rekord funkcjonuje jako "Koszulka" (kontener roboczy/teczka tematyczna); zasady generacji do dopięcia |
| `isReadOnly` | boolean | tak | blokuje zmiany (pola, dokumenty, powiązania); odwracalne z uprawnieniem |

## Powiązanie (record link)

Powiązanie jest neutralne (bez typu/etykiety) i symetryczne. Łączy rekordy sprawy (niezależnie od tego, czy mają przypisany znak sprawy).

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `aType` | enum | tak | `case` |
| `aId` | uuid | tak | id rekordu A |
| `bType` | enum | tak | `case` |
| `bId` | uuid | tak | id rekordu B |
| `createdAt` | datetime | nie | audit/porządek chronologiczny |

Zasady spójności:

- powiązanie jest symetryczne: A↔B (nie przechowujemy osobno B↔A)
- A != B
- rekomendacja: kanoniczne uporządkowanie par (żeby uniknąć duplikatów)

## Spis spraw

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `name` | string | tak | nazwa spisu |
| `year` | number | nie | jeśli numeracja roczna |
| `jrwaClassId` | uuid | nie | jeśli spis per JRWA |

## JRWA (klasa)

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `symbol` | string | tak | np. „WD-9821” (robocze) |
| `title` | string | tak | hasło klasy |
| `parentId` | uuid | nie | drzewo |
| `retentionCategory` | enum | nie | A/B/BE (robocze) |
| `retentionYears` | number | nie | |

## Skład chronologiczny: lokalizacja

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `code` | string | tak | identyfikator miejsca |
| `description` | string | nie | opis |

## Historia lokalizacji (przypisania)

| Pole | Typ | Wymagane | Uwagi |
|---|---|---:|---|
| `documentId` | uuid | tak | |
| `locationId` | uuid | tak | |
| `validFrom` | datetime | tak | |
| `validTo` | datetime | nie | null = aktualne |
| `note` | string | nie | |
